"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[874],{1121:function(e,t,n){n.d(t,{Z:function(){return o}});var a=n(1799),s=n(9396),r=n(9534),i=n(5893),l=(n(7294),n(2175));function o(e){e.id,e.type;var t=e.name,n=e.className,o=e.label,c=(0,r.Z)(e,["id","type","name","className","label"]);return(0,i.jsxs)("div",{id:"input",className:"",children:[(0,i.jsx)("div",{children:(0,i.jsx)("label",{htmlFor:e.name,className:"leading-7 text-sm text-gray-100 ".concat(e.labelclassName),children:o})}),(0,i.jsx)("div",{className:"",children:(0,i.jsx)(l.gN,(0,s.Z)((0,a.Z)({as:e.as,name:t},c),{children:function(r){var o=r.field;r.form,r.meta;return(0,i.jsxs)("div",{className:"",children:[(0,i.jsx)("input",(0,s.Z)((0,a.Z)({},o),{placeholder:e.placeholder,type:e.type,id:e.id,className:"w-full bg-white rounded border border-gray-300  text-base outline-none text-gray-700 py-1 px-3 leading-8 transition-colors duration-200 ease-in-out ".concat(n)})),(0,i.jsx)("div",{className:"my-2 text-red-500",children:(0,i.jsx)(l.Bc,{className:"",name:t,children:function(e){return(0,i.jsx)("div",{className:"",children:(0,i.jsx)("p",{className:"p-1 text-center text-red-500 bg-white ",children:e})})}})})]})}}))})]})}},3015:function(e,t,n){n.d(t,{Z:function(){return w}});var a=n(5893),s=n(7294),r=n(5434),i=n(5155),l=n(3471),o=n(3253),c=n.n(o),d=n(860),u=(n(465),n(9669)),m=n.n(u),x=n(2920),h=n(1121),f=n(4231),b=n(2175),g=n(3215),p=n(7010),N=n(1163);function j(e){var t=f.Ry({title:f.Z_().required("Atleast Any 1 Field Is Required").min(5,"Atleast 5 Characters Required"),tag:f.Z_().min(5,"Atleast 5 Characters Required"),desc:f.Z_().min(10,"Atleast 10 Characters Required")}),n=v(),s=n.mutate,r=n.isLoading;return(0,a.jsxs)("div",{className:"border-2 border-black p-5 w-fit h-fit mx-auto my-auto",children:[(0,a.jsx)("button",{onClick:function(){e.setIsOpen(!1)},className:"border-2 border-black w-fit p-1 rounded-md",children:(0,a.jsx)(i.nfZ,{})}),(0,a.jsx)("div",{className:"z-[100] text-black w-fit h-fit mx-auto lg:mx-auto my-auto ",children:(0,a.jsx)("h1",{className:"sm:!text-3xl !text-2xl font-medium title-font my-4 text-black",children:"Update Your Note"})}),(0,a.jsx)(b.J9,{initialValues:{title:"",tag:"",desc:""},validationSchema:t,onSubmit:function(t){t.token=e.token,t.noteid=e.noteid,s(t),e.setIsOpen(!1)},children:function(e){return(0,a.jsx)(b.l0,{children:(0,a.jsx)("div",{className:"lg:w-1/2 md:w-2/3 mx-auto",children:(0,a.jsxs)("div",{className:"flex flex-wrap -m-2",children:[(0,a.jsx)("div",{className:"p-2 md:w-1/2 w-full",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("label",{htmlFor:"title",className:"leading-7 text-sm text-gray-900 ",children:"Title"}),(0,a.jsx)(h.Z,{labelclassName:" hidden",label:"Title",name:"title",id:"title",type:"text",className:"w-full bg-gray-400 bg-opacity-50 rounded border border-black focus:border-indigo-500 ring-0 focus:bg-white focus:ring-2 focus:ring-indigo-200 text-base outline-none text-gray-700 py-1 px-3 leading-8 transition-colors duration-200 ease-in-out"})]})}),(0,a.jsx)("div",{className:"p-2 md:w-1/2 w-full",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("label",{htmlFor:"tag",className:"leading-7 text-sm text-gray-900 ",children:"Tag"}),(0,a.jsx)(h.Z,{labelclassName:" hidden",type:"text",id:"tag",name:"tag",label:"Tag",className:"w-full bg-gray-400 bg-opacity-50 rounded border border-black focus:border-indigo-500 ring-0 focus:bg-white focus:ring-2 focus:ring-indigo-200 text-base outline-none text-gray-700 py-1 px-3 leading-8 transition-colors duration-200 ease-in-out"})]})}),(0,a.jsx)("div",{className:"p-2 w-full",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("label",{htmlFor:"desc",className:"leading-7 text-sm text-gray-900 ",children:"Description"}),(0,a.jsx)(g.Z,{labelclassName:"hidden",name:"desc",label:"Description",type:"text",id:"desc",className:"w-full bg-gray-400 bg-opacity-50 rounded border border-black focus:border-indigo-500 focus:bg-white focus:ring-2 focus:ring-indigo-200 h-32 text-base outline-none text-gray-700 py-1 px-3 resize-none leading-6 transition-colors duration-200 ease-in-out"})]})}),(0,a.jsx)("div",{className:"p-2 w-full",children:(0,a.jsx)("button",{disabled:e.isValidating||!e.errors,type:"submit",className:"flex mx-auto text-white bg-indigo-500 border-0 py-2 px-8 focus:outline-none hover:bg-indigo-600 rounded text-lg",children:r?(0,a.jsx)(p.Z,{}):"Update Note"})})]})})})}})]})}var y=function(e){m().put("https://polynotes-django-backend.herokuapp.com/auth/v1/RUDnote/".concat(e.noteid,"/"),e,{headers:{Authorization:"Bearer "+e.token}}).then((function(e){e.data})).catch((function(e){x.Am.error("Couldnt Update Note Try Again After Some time")}))},v=function(){var e=(0,N.useRouter)(),t=(0,l.useQueryClient)();return(0,l.useMutation)(y,{onSuccess:function(){(0,x.Am)("Note Succesfully Updated",{position:x.Am.POSITION.TOP_LEFT}),t.invalidateQueries(["UsersNotes"]),e.push("/NotesPage")},onError:function(e){x.Am.error("Couldnt Update Note Try Again After Some time"),t.setQueryData(["UsersNotes"],e.previousData)}})};function w(e){var t=A(),n=(0,s.useState)(!1),l=n[0],o=n[1];return(0,a.jsx)("div",{scroll:!1,children:(0,a.jsx)("div",{className:"lg:p-10 p-8 bg z-[-1]",children:(0,a.jsxs)("div",{className:"h-full bg-opacity-75 px-8 pt-8 pb-24 rounded-lg overflow-hidden text-center relative bg-gradient-to-br from-orange-500 to-yellow-500",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)(d.ZP,{content:(0,a.jsx)("span",{children:"Delete"}),children:(0,a.jsx)("button",{onClick:function(){return function(n){var a={noteid:n,token:e.token};t.mutate(a)}(e.id)},className:"border-2 w-fit border-blue-500 h-fit p-1 rounded-md bg-white",children:(0,a.jsx)(r.ZkW,{})})}),(0,a.jsx)(d.ZP,{content:(0,a.jsx)("span",{children:"Update"}),children:(0,a.jsxs)("button",{className:"border-2 w-fit border-blue-500 h-fit p-1 rounded-md bg-white",children:[(0,a.jsx)(i.Eq8,{onClick:function(){o(!0)}}),(0,a.jsx)(c(),{isOpen:l,onRequestClose:function(){o(!1)},contentLabel:"My dialog",className:"mymodal",overlayClassName:"myoverlay",closeTimeoutMS:500,children:(0,a.jsx)(j,{token:e.token,noteid:e.id,setIsOpen:o})})]})})]}),(0,a.jsx)("h2",{className:"tracking-widest text-xs title-font font-medium text-white mb-1",children:e.tag}),(0,a.jsx)("h1",{className:"title-font sm:text-2xl text-xl text-gray-900 mb-3 font-bold",children:e.title}),(0,a.jsx)("p",{className:"leading-relaxed mb-3 font-medium break-all",children:e.desc}),(0,a.jsxs)("div",{className:"text-center mt-2 leading-none flex justify-center absolute bottom-0 left-0 w-full py-4",children:[(0,a.jsx)("span",{className:"text-white mr-3 inline-flex items-center leading-none text-sm pr-3 py-1 border-r-2 border-gray-900 font-black",children:e.datestamp}),(0,a.jsx)("span",{className:"text-white font-black inline-flex items-center leading-none text-sm ",children:e.timestamp})]})]})})})}var k=function(e){m().delete("https://polynotes-django-backend.herokuapp.com/auth/v1/RUDnote/".concat(e.noteid,"/"),{headers:{Authorization:"Bearer "+e.token}}).then((function(e){return(0,x.Am)("Note Succesfully Deleted",{position:x.Am.POSITION.TOP_LEFT}),e.data})).catch((function(e){x.Am.error("Couldnt Delete Note Try Again After Some time")}))},A=function(){var e=(0,N.useRouter)(),t=(0,l.useQueryClient)();return(0,l.useMutation)(k,{onSuccess:function(){t.invalidateQueries(["UsersNotes"]),e.push("/NotesPage")},onError:function(e){x.Am.error("Couldnt Delete Note Try Again After Some time"),t.setQueryData(["UsersNotes"],e.previousData)}})}},6602:function(e,t,n){n.d(t,{Z:function(){return o}});var a=n(5893),s=(n(9669),n(1163)),r=n(7294),i=n(9583),l=n(8463);function o(e){(0,r.useContext)(l.Z).setUsersQuery;var t=(0,s.useRouter)();return(0,a.jsx)("div",{className:" justify-center text-center flex bg-black rounded-b-full py-2",children:(0,a.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t.push("/SearchBarPage/".concat(e.target.search.value))},className:"flex justify-center",children:[(0,a.jsx)("div",{children:(0,a.jsx)("input",{name:"search",id:"search",type:"text",className:"lg:w-[500px] hover:invert md:w-full bg-white bg-opacity-100 rounded border-2 border-black focus:border-orange-500 ring-0 focus:bg-black focus:ring-2 focus:ring-orange-500 text-base outline-none text-gray-700 focus:text-white py-1 px-3 leading-8 transition-all duration-200 ease-in-out",placeholder:"Search Your Notes Here"})}),(0,a.jsx)("button",{type:"submit",className:"focus:ring-4 focus:ring-orange-500 hover:invert transition-all fade-in-out border-2 border-black p-3 bg-white text-black pt-[px] rounded-md mx-2",children:(0,a.jsx)(i.U41,{})})]})})}},3215:function(e,t,n){n.d(t,{Z:function(){return l}});var a=n(1799),s=n(9534),r=n(5893),i=(n(7294),n(2175));function l(e){var t=e.name,n=e.className,l=e.ringcolor,o=e.label,c=(0,s.Z)(e,["name","className","ringcolor","label"]);return(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{children:(0,r.jsx)("label",{htmlFor:e.name,className:"leading-7 text-sm text-gray-100 ".concat(e.labelclassName),children:o})}),(0,r.jsx)(i.gN,(0,a.Z)({className:"focus:ring-4 focus:ring-opacity-50 focus:".concat(l," focus:transition-all outline-none focus:fade-in-out ").concat(n),as:"textarea",id:t,name:t},c)),(0,r.jsx)("div",{id:"error",className:"text-red-500",children:(0,r.jsx)("div",{className:"my-2 text-red-500",children:(0,r.jsx)(i.Bc,{className:"",name:t,children:function(e){return(0,r.jsx)("div",{className:"",children:(0,r.jsx)("p",{className:"p-1 text-center text-red-500 bg-white ",children:e})})}})})})]})}}}]);